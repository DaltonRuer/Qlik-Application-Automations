{"blocks":[{"id":"A7AA1318-2E61-4062-9B03-0FAA86A9FB38","type":"StartBlock","x":100,"y":100,"disabled":false,"name":"Start","displayName":"Start","comment":"","childId":"45B486EC-56F3-480A-9AD1-87955A4D13CF","inputs":[{"id":"run_mode","value":"triggered","type":"select","structure":{}},{"id":"async","value":"no","type":"select","structure":{}},{"id":"","value":null,"type":"custom","structure":{}}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"F4076028-64F2-4A47-A862-6138C9C8B1C7","type":"EndpointBlock","x":219.98580932617188,"y":570.9942779541016,"disabled":false,"name":"listApps","displayName":"Qlik Cloud Services - List Apps","comment":"Will iterate through all of the applications for the current SPACE","childId":null,"inputs":[{"id":"8cd8db50-107b-11ec-8082-edc45dd151ef","value":null,"type":"select","structure":[]},{"id":"8ce4fad0-107b-11ec-a6ac-2bd407ad134b","value":"{ $.listSpaces.item.id }","type":"string","structure":[]}],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"loopBlockId":"3B534835-05F2-40FE-BD8B-79276BAEB25D","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"8cc63340-107b-11ec-ab5d-f9b221ed2dc5","endpoint_role":"list"},{"id":"6727989F-F2BB-49CC-8AF8-FACE0A6B91ED","type":"EndpointBlock","x":98.00570297241212,"y":286.1960105895996,"disabled":false,"name":"listSpaces","displayName":"Qlik Cloud Services - List Spaces","comment":"Will iterate through all of the spaces in your tenant","childId":"3C893D8F-5F62-4F73-9F0B-126D6ED45372","inputs":[],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"loopBlockId":"F4076028-64F2-4A47-A862-6138C9C8B1C7","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"42815920-5f18-11eb-8321-91b1587b6c06","endpoint_role":"list"},{"id":"3B534835-05F2-40FE-BD8B-79276BAEB25D","type":"SnippetBlock","x":370.8238868713379,"y":526.0141830444336,"disabled":false,"name":"GetAppInformation","displayName":"Qlik Cloud Services - Get App Information","comment":"Get metadata about the current Application so we can check ","childId":"A475ED9E-62A2-4733-9FB4-D647B5977EC5","inputs":[{"id":"d3acbdc0-a8d2-11eb-8827-056900eab788","value":"{$.listApps.item.id}","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"d3a8d4f0-a8d2-11eb-a81d-ffabb68491fb"},{"id":"A475ED9E-62A2-4733-9FB4-D647B5977EC5","type":"IfElseBlock","x":363.7329788208008,"y":645.6505279541016,"disabled":false,"name":"condition","displayName":"Condition","comment":"Check IF the appliation priveleges list contains \"export\"","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{$.GetAppInformation.info.privileges}","input2":"export","operator":"inList"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"childTrueId":"AE5CEFCB-47BD-492B-8886-A347085A7EF0","childFalseId":"0E8B8F7A-53B1-4637-AF44-42FE43DBC615"},{"id":"45B486EC-56F3-480A-9AD1-87955A4D13CF","type":"VariableBlock","x":92,"y":182,"disabled":false,"name":"ApplicationsNotBackedUp","displayName":"Variable - ApplicationsNotBackedUp","comment":"Clear out the LIST of Application Names that have been backed up","childId":"0B3DBD49-391A-423C-BC63-BC4C89FC3695","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"DC5E6E75-D35E-4FAC-A5A5-5A3856A62B13","operations":[{"key":"8B8226DC-FA25-4641-87B1-E56350BB5048","id":"empty","name":"Empty { variable }"}]},{"id":"5D907DC8-E15B-4BDA-B383-156F665F8EC5","type":"VariableBlock","x":460,"y":1187,"disabled":false,"name":"ApplicationsNotBackedUp","displayName":"Variable - ApplicationsNotBackedUp","comment":"Add this application name to the the list of all applications that were NOT backed up üòû in case you want to use it for any reason following the conclusion of the backup process","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"DC5E6E75-D35E-4FAC-A5A5-5A3856A62B13","operations":[{"key":"445BDBAE-DD35-4DF8-B6BF-AA470BA6CFBF","id":"add_item","name":"Add item to { variable }","value":"{$.GetAppInformation.info.attributes.name}"}]},{"id":"3C893D8F-5F62-4F73-9F0B-126D6ED45372","type":"ShowBlock","x":100,"y":1255,"disabled":false,"name":"output3","displayName":"Output 3","comment":"Simple notification that the entire workflow is now complete and that you have 2 LISTS that you would be able to use anyway you like","childId":"0B0FC3E6-C79F-42BC-8C37-5CD0474CE6B7","inputs":[{"id":"input","value":"Remember you have a List of Applications that were backed up and a list of applications that could not be backed up to use anyway you would like to","type":"string","structure":{}}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"0B3DBD49-391A-423C-BC63-BC4C89FC3695","type":"VariableBlock","x":105,"y":306,"disabled":false,"name":"ApplicationsBackedUp","displayName":"Variable - ApplicationsBackedUp","comment":"Clear out the list of Applications Names that were not able to be backed up due to a lack of security permissions","childId":"C9D8AA5F-2123-42BD-A6C5-733D7970AC98","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"09957F34-EDFD-4FDB-ACF2-AD2A199EAD08","operations":[{"key":"06011374-668B-478D-9E2A-72321B53A50B","id":"empty","name":"Empty { variable }"}]},{"id":"AE5CEFCB-47BD-492B-8886-A347085A7EF0","type":"VariableBlock","x":460,"y":1122,"disabled":false,"name":"ApplicationsBackedUp","displayName":"Variable - ApplicationsBackedUp","comment":"Add this application name to the the list of all applications that were backed up ‚úîÔ∏è in case you want to use it for any reason following the conclusion of the backup process","childId":"C81904A9-D804-4EBC-AEF3-BA2D9C69D2F3","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"09957F34-EDFD-4FDB-ACF2-AD2A199EAD08","operations":[{"key":"84095D8B-B51C-40F4-9CBF-E73BC2D785D3","id":"add_item","name":"Add item to { variable }","value":"{$.GetAppInformation.info.attributes.name}"}]},{"id":"AF54599F-9DC4-478D-A50D-FD7B47841E24","type":"SnippetBlock","x":471,"y":1074,"disabled":false,"name":"CreateOrUpdateFileContent","displayName":"Git Hub - Create Or Update File Content","comment":"Save the file to GitHub. ","childId":null,"inputs":[{"id":"70b4a4c0-4074-11ec-a8e6-c1dc761dcfb1","value":"{$.GitHubVariables.User}","type":"string","structure":{}},{"id":"70b5c000-4074-11ec-969e-792346f99f92","value":"{$.GitHubVariables.Repository}","type":"string","structure":{}},{"id":"70b63220-4074-11ec-b55b-7725e494603a","value":"{ $.GetAppInformation.info.attributes.name }.QVF","type":"string","structure":{}},{"id":"b27fff40-4074-11ec-9f16-55d8428ec62c","value":"{$.GitHubVariables.Branch}","type":"string","structure":{}},{"id":"70b75130-4074-11ec-84ab-e102a3b0c185","value":"{$.GitHubVariables.Message}","type":"string","structure":{}},{"id":"70b84f80-4074-11ec-9358-b5650774d83c","value":"{$.exportAppToBase64EncodedFile}","type":"string","structure":{}}],"settings":[{"id":"datasource","value":"b8102cc0-42ff-11ec-b60b-5fb9fa3a6db6","type":"select","structure":{}},{"id":"blendr_on_error","value":"stop","type":"select","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"0d87808f-27c0-11ea-921c-022e6b5ea1e2","snippet_guid":"70a930c0-4074-11ec-9bb6-b36e27de5d04"},{"id":"C9D8AA5F-2123-42BD-A6C5-733D7970AC98","type":"VariableBlock","x":100,"y":580,"disabled":false,"name":"GitHubVariables","displayName":"Variable - GitHubVariables","comment":"Please input the values for YOUR GitHub Repository\nYou need to input the User, Repository, Branch and Message to use","childId":"6727989F-F2BB-49CC-8AF8-FACE0A6B91ED","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"variableGuid":"8050BDB1-767C-4DA1-AA74-70B537925EA7","operations":[{"key":"9FB377B9-392E-4286-9CF7-7CDC82F5B596","id":"set_key_value","name":"Set key/values of { variable }","value":[{"key":"Branch","value":"main"},{"key":"User","value":"DaltonRuer"},{"key":"Repository","value":"Automated-Backup-For-Blog"},{"key":"Message","value":"Automated Backup Occurred from QAA"}]}]},{"id":"E09E1363-F1E5-43AB-AFB2-E476BCBD21B7","type":"SnippetBlock","x":461,"y":1198,"disabled":false,"name":"exportAppToBase64EncodedFile","displayName":"Qlik Cloud Services - Export App To Base 64 Encoded File","comment":"Export the application to a Base 64 Encoded string which ALWAYS does a backup with NO DATA üìë","childId":"AF54599F-9DC4-478D-A50D-FD7B47841E24","inputs":[{"id":"c0930c20-8645-11eb-8c79-17357db3794c","value":"{$.listApps.item.id}","type":"string","structure":{}}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}],"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"c08e2d30-8645-11eb-b98e-e77d5a1bebc3"},{"id":"C81904A9-D804-4EBC-AEF3-BA2D9C69D2F3","type":"ShowBlock","x":465,"y":1199,"disabled":false,"name":"output","displayName":"Output","comment":"üìùSimple output to give you a sanity check while the process is running","childId":"E09E1363-F1E5-43AB-AFB2-E476BCBD21B7","inputs":[{"id":"input","value":"{$.GetAppInformation.info.attributes.name}  .... has been backed up ‚úîÔ∏è","type":"string","structure":{}}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"0E8B8F7A-53B1-4637-AF44-42FE43DBC615","type":"ShowBlock","x":459,"y":1619,"disabled":false,"name":"output2","displayName":"Output 2","comment":"üìù Simple output to give you a sanity check while the process is running","childId":"5D907DC8-E15B-4BDA-B383-156F665F8EC5","inputs":[{"id":"input","value":"{$.GetAppInformation.info.attributes.name}  ... Sorry you do not have permissions to backup this application up üòû","type":"string","structure":{}}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":{}}],"collapsed":[{"name":"loop","isCollapsed":false}]},{"id":"0B0FC3E6-C79F-42BC-8C37-5CD0474CE6B7","type":"StopBlock","x":85,"y":2005,"disabled":false,"name":"stop","displayName":"Stop","comment":"Conclude the workflow","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}]}],"variables":[{"guid":"D6B74581-77B6-423D-A2C9-E8C2C6A53169","name":"DateTime","type":"string"},{"guid":"DC5E6E75-D35E-4FAC-A5A5-5A3856A62B13","name":"ApplicationsNotBackedUp","type":"list"},{"guid":"80ED2BE1-1851-4F0F-B6A8-1882448868F0","name":"NotBackedUp","type":"object"},{"guid":"09957F34-EDFD-4FDB-ACF2-AD2A199EAD08","name":"ApplicationsBackedUp","type":"list"},{"guid":"8050BDB1-767C-4DA1-AA74-70B537925EA7","name":"GitHubVariables","type":"object"}]}