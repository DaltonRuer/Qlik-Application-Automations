{"blocks":[{"id":"B5A59F93-8D86-4B45-9B12-CDA1E4C18BB7","type":"StartBlock","disabled":false,"name":"Start","displayName":"Start","comment":"","childId":"2E1D6D91-2D3F-49E4-A11A-96B340BB7D8E","inputs":[{"id":"run_mode","value":"manual","type":"select","structure":{}}],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":0},{"id":"4CF11F83-11FB-447E-9F3F-E2D637A2D960","type":"SnippetBlock","disabled":false,"name":"GetAppInformation","displayName":"Qlik Cloud Services - Get App Information","comment":"Get the details about this application which includes all of the fields for all of the tables","childId":"54E82F0A-E5E1-42FD-AC69-0057EEF26CFB","inputs":[{"id":"d3acbdc0-a8d2-11eb-8827-056900eab788","value":"{ $.ApplicationID }","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":666,"y":416,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"d3a8d4f0-a8d2-11eb-a81d-ffabb68491fb"},{"id":"54E82F0A-E5E1-42FD-AC69-0057EEF26CFB","type":"ForEachBlock","disabled":false,"name":"loop","displayName":"Loop","comment":"Loop through all of the FIELDS that were found in the Application","childId":"7A1AF822-31F6-4729-A745-560796F91612","inputs":[{"id":"input","value":"{ $.GetAppInformation.metadata.fields }","type":"string","structure":[]}],"settings":[{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-394,"y":167,"loopBlockId":"6373E635-EB74-4FA8-B519-A86BB00EEAEB"},{"id":"6373E635-EB74-4FA8-B519-A86BB00EEAEB","type":"IfElseBlock","disabled":false,"name":"condition","displayName":"Condition","comment":"If this field has a source table and a tag %Dimension, then we want to use it otherwise it is a system value","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.loop.item.src_tables }","input2":null,"operator":"notEmpty"},{"input1":"{ implode: { $.loop.item.tags } }","input2":"%Dimension","operator":"contain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":117,"y":616,"childTrueId":"77C43EB4-C99E-499B-A778-2B5612208902","childFalseId":"69273917-AE13-4514-A7DF-13C6C07E9B29"},{"id":"7A1AF822-31F6-4729-A745-560796F91612","type":"SnippetBlock","disabled":false,"name":"saveApp","displayName":"Qlik Cloud Services - Save App","comment":"Once all of the dimensions that were necessary were created or updated then save the application so that they take effect for everyone","childId":"E5D1EED7-A3D4-4F76-86C4-35EFB74936AA","inputs":[{"id":"e4c96750-018f-11ec-9324-452b72262f88","value":"{ $.ApplicationID }","type":"string","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":0,"y":820,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"e4c44ca0-018f-11ec-9e3c-1d9f5d508976"},{"id":"77C43EB4-C99E-499B-A778-2B5612208902","type":"SnippetBlock","disabled":false,"name":"createOrUpdateDimension","displayName":"Qlik Cloud Services - Create Or Update Dimension","comment":"Create or Update a Dimension for the current field in the loop set the description to be whatever the comments were that were entered for the field and set the tags to any tags that were marked for it","childId":null,"inputs":[{"id":"65176130-30d7-11ec-9658-cd8bc9a50828","value":"{ $.ApplicationID }","type":"string","structure":[]},{"id":"d06bb4d0-3576-11ec-a4e3-a371718bde05","value":null,"type":"string","structure":[]},{"id":"d06dca20-3576-11ec-ab36-9794e36bcb70","value":"{$.loop.item.name}","type":"string","structure":[]},{"id":"6519da60-30d7-11ec-a1d7-3bb0bdc25d37","value":"{$.loop.item.name}","type":"string","structure":[]},{"id":"65198b60-30d7-11ec-86c2-d70c9149d653","value":"{$.loop.item.name}","type":"string","structure":[]},{"id":"651a2810-30d7-11ec-8e88-9992315a6955","value":null,"type":"string","structure":[]},{"id":"651a7180-30d7-11ec-852e-ef92a8029996","value":"{ $.loop.item.comment }\n\nPart of the table(s): {implode: { $.loop.item.src_tables }}","type":"string","structure":[]},{"id":"651abbf0-30d7-11ec-b40a-ada60ebb0299","value":"{ implode: { $.loop.item.tags } }","type":"string","structure":[]},{"id":"651b7790-30d7-11ec-b644-f776c8b2344c","value":"yes","type":"select","displayValue":"yes","structure":[]}],"settings":[{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":824,"y":1193,"datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","snippet_guid":"caccacd0-30b3-11ec-8ac6-395c0d1b145d"},{"id":"EE05B6A6-754A-4A76-A290-E036ACAD1CB5","type":"FormBlock","disabled":false,"name":"inputs2","displayName":"Inputs 2","comment":"Present the list of application names and ids for the user to choose which application they wish to add the Master Dimensions for","childId":"E5EEB5A5-813B-4FB5-9FFE-A580EFD52263","inputs":[],"settings":[{"id":"persist_data","value":"no","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":642,"y":388,"form":[{"id":"inputs2-input-0","type":"select","label":"Application:","order":0,"values":"{ implode: { $.ApplicationList } }","options":[],"helpText":null,"isRequired":true}],"persistData":"no"},{"id":"2E1D6D91-2D3F-49E4-A11A-96B340BB7D8E","type":"EndpointBlock","disabled":false,"name":"listApps","displayName":"Qlik Cloud Services - List Apps","comment":"Loop through a list of all of the applications in a selected SPACE","childId":"EE05B6A6-754A-4A76-A290-E036ACAD1CB5","inputs":[{"id":"8cd8db50-107b-11ec-8082-edc45dd151ef","value":"8cde3d40-107b-11ec-98de-39d96a8971e1","type":"select","displayValue":"+name","structure":[]},{"id":"8ce4fad0-107b-11ec-a6ac-2bd407ad134b","value":"personal","type":"string","structure":[]}],"settings":[{"id":"maxitemcount","value":"","type":"string","structure":[]},{"id":"blendr_on_error","value":"stop","type":"select","structure":[]},{"id":"cache","value":"0","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-394,"y":217,"loopBlockId":"DD01922B-A33C-412E-A35F-360F6F7A476E","datasourcetype_guid":"61a87510-c7a3-11ea-95da-0fb0c241e75c","endpoint_guid":"8cc63340-107b-11ec-ab5d-f9b221ed2dc5","endpoint_role":"list"},{"id":"DD01922B-A33C-412E-A35F-360F6F7A476E","type":"VariableBlock","disabled":false,"name":"ApplicationList","displayName":"Variable - ApplicationList","comment":"Create a LIST of all of the application names and their ID value","childId":null,"inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":570,"y":283,"variableGuid":"66FD8252-8B94-4D5A-8A76-645990B1DACE","operations":[{"id":"add_item","key":"ADD1B851-3B78-4526-80C5-CD2D86D08D49","name":"Add item to { variable }","value":"{$.listApps.item.name} [{$.listApps.item.id}]"}]},{"id":"99221B2D-B63E-41F2-A2EF-35E1173A85AA","type":"VariableBlock","disabled":false,"name":"ApplicationID","displayName":"Variable - ApplicationID","comment":"Set the Application ID that they chose from a list so that future blocks can utilize it\n","childId":"4CF11F83-11FB-447E-9F3F-E2D637A2D960","inputs":[],"settings":[],"collapsed":[{"name":"loop","isCollapsed":false}],"x":490,"y":579,"variableGuid":"AB0DF5B2-4917-43BD-BDF5-60D2E2520B57","operations":[{"id":"set_value","key":"A34E6890-B0AD-481F-83A6-C4B9BAFC8E09","name":"Set value of { variable }","value":"{regexparse: { $.inputs2.'Application:' }, '\\[(.*?)\\]'}"}]},{"id":"E5EEB5A5-813B-4FB5-9FFE-A580EFD52263","type":"FormBlock","disabled":false,"name":"inputs","displayName":"Inputs","comment":"Prompt the user to let them ensure they know what they are doing","childId":"600D76FC-2739-4360-948F-44997889545B","inputs":[],"settings":[{"id":"persist_data","value":"no","type":"select","structure":[]},{"id":"automations_censor_data","value":false,"type":"checkbox","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-389,"y":-23,"form":[{"id":"inputs-input-0","type":"button","label":"Yes I wish to create/update dimensions the selected application?","order":0,"values":null,"options":[],"helpText":null,"isRequired":true},{"id":"inputs-input-1","type":"button","label":"No I had no idea that is what this automation did leave my application alone","order":1,"values":null,"options":[],"helpText":null,"isRequired":true}],"persistData":"no"},{"id":"600D76FC-2739-4360-948F-44997889545B","type":"IfElseBlock","disabled":false,"name":"condition2","displayName":"Condition 2","comment":"If they chose Yes they wanted to continue we will otherwise we will just end and tell them nothing was changed","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ $.inputs }","input2":"Yes","operator":"contain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":-341,"y":118,"childTrueId":"99221B2D-B63E-41F2-A2EF-35E1173A85AA","childFalseId":"F26B9DD5-1F9C-47B7-9072-F4FA28A37973"},{"id":"F26B9DD5-1F9C-47B7-9072-F4FA28A37973","type":"ShowBlock","disabled":false,"name":"output2","displayName":"Output 2","comment":"Remind the user that they did NOT want to proceed with dimensions","childId":null,"inputs":[{"id":"input","value":"You chose not to proceed so nothing was changed in your application","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-341,"y":220},{"id":"E5D1EED7-A3D4-4F76-86C4-35EFB74936AA","type":"ShowBlock","disabled":false,"name":"output","displayName":"Output","comment":"Let the user know that dimensions were created and hand them a link while they are here to quickly go enjoy the awesomeness","childId":null,"inputs":[{"id":"input","value":"Dimensions were created in the application for all fields. Their comments became descriptions and any tags were added as tags. Here is the link in case you want to go check it out\n\nhttps://partner-engineering-saas.us.qlikcloud.com/sense/app/{ $.ApplicationID }/overview/hubUrl/%2Fanalytics%2Fcatalog","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":-319,"y":1010},{"id":"670EDC83-168A-4BC1-BD96-F1F950EE371B","type":"IfElseBlock","disabled":false,"name":"condition3","displayName":"Condition 3","comment":"If the field has a tag %Dimension","childId":null,"inputs":[{"id":"conditions","value":{"mode":"all","conditions":[{"input1":"{ implode: { $.loop.item.tags } }","input2":"%Dimension","operator":"contain"}]},"type":"custom","structure":[]}],"settings":[],"collapsed":[{"name":"both","isCollapsed":false},{"name":"yes","isCollapsed":false},{"name":"no","isCollapsed":false}],"x":829,"y":1130,"childTrueId":null,"childFalseId":null},{"id":"69273917-AE13-4514-A7DF-13C6C07E9B29","type":"ShowBlock","disabled":true,"name":"output3","displayName":"Output 3","comment":"Auditing Output to let you know what wasn't going to be created","childId":null,"inputs":[{"id":"input","value":"{$.loop.item.name} did NOT HAVE %Dimension or is a system field and not really in the data model","type":"string","structure":[]}],"settings":[{"id":"display_mode","value":"add","type":"select","structure":[]}],"collapsed":[{"name":"loop","isCollapsed":false}],"x":824,"y":1273}],"variables":[{"guid":"66FD8252-8B94-4D5A-8A76-645990B1DACE","name":"ApplicationList","type":"list"},{"guid":"AB0DF5B2-4917-43BD-BDF5-60D2E2520B57","name":"ApplicationID","type":"string"}]}